"use strict";(()=>{var e={};e.id=310,e.ids=[310],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9764:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>g,patchFetch:()=>m,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>d,staticGenerationAsyncStorage:()=>p});var n={};t.r(n),t.d(n,{POST:()=>u});var a=t(9303),r=t(8716),i=t(670),o=t(7070);async function u(e){try{let s=await e.json();console.log("Listing submission received:",JSON.stringify(s,null,2));let t={car_data:{vin:s.vin,sts:s.sts,licensePlate:s.licensePlate,make:s.make,model:s.model,steeringWheel:s.steeringWheel,year:s.year,mileage:s.mileage,noMileageRF:s.noMileageRF,owners:s.owners,color:s.color,documentsProblem:s.documentsProblem,documentsProblemText:s.documentsProblemText,needsRepair:s.needsRepair,needsRepairText:s.needsRepairText,description:s.description,videoLink:s.videoLink,price:s.price,currency:s.currency,exchangePossible:s.exchangePossible,exchangeMoreExpensive:s.exchangeMoreExpensive,exchangeEqual:s.exchangeEqual,exchangeCheaper:s.exchangeCheaper,exchangeNotCar:s.exchangeNotCar,exchangeDetails:s.exchangeDetails,status:s.status,region:s.region,city:s.city,phone:s.phone,allowQuestions:s.allowQuestions,enableAssistant:s.enableAssistant,assistantDescription:s.assistantDescription},questions:s.questions||null};try{let e=await fetch("https://cms-asr-dev.neuro.net/api/v1/rag/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error(`API returned status ${e.status}`);let s=await e.json();return o.NextResponse.json({success:!0,message:"Объявление успешно создано",listingId:s.id||"627037398",data:s},{status:200})}catch(e){return console.warn("External API unavailable, using stub:",e),o.NextResponse.json({success:!0,message:"Объявление успешно создано (заглушка)",listingId:"627037398",data:t,note:"Внешний API недоступен, данные сохранены локально"},{status:200})}}catch(e){return console.error("Error submitting listing:",e),o.NextResponse.json({success:!1,message:"Ошибка при создании объявления",error:e instanceof Error?e.message:"Unknown error"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/listing/submit/route",pathname:"/api/listing/submit",filename:"route",bundlePath:"app/api/listing/submit/route"},resolvedPagePath:"/Users/nikapahomova/Проекты/neuro/drom_for_demo/app/api/listing/submit/route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:p,serverHooks:d}=l,g="/api/listing/submit/route";function m(){return(0,i.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:p})}}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[276,972],()=>t(9764));module.exports=n})();